<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<formidable version="1.0.0"
	xmlns:datahandler="http://www.ameos.com/formidable/1.0.0/datahandler"
	xmlns:datasource="http://www.ameos.com/formidable/1.0.0/datasource"
	xmlns:renderer="http://www.ameos.com/formidable/1.0.0/renderer"
	xmlns:renderlet="http://www.ameos.com/formidable/1.0.0/renderlet"
	xmlns:validator="http://www.ameos.com/formidable/1.0.0/validator"
	xmlns:actionlet="http://www.ameos.com/formidable/1.0.0/actionlet">

	<meta>
		<name>Standard XML file</name>
		<form formid="tmd_cinema_pi1"/>
		<debug>false</debug>
		<displaylabels>true</displaylabels>
	</meta>

	<control>



 		<datahandler:STANDARD />

		<renderer:STANDARD/>
	</control>

	<elements>

		<renderlet:TEXT name="title-ro" label="Filmtitel">
			<readonly>true</readonly>
			<data>
				<defaultvalue>
					<userobj>
						<php>
							<![CDATA[ return $this->_oParent->getFieldContent("movie_title"); ]]>
						</php>
					</userobj>
				</defaultvalue>
			</data>
		</renderlet:TEXT>

		<renderlet:HIDDEN name="movie_title">
			<data>
				<value>
					<userobj>
		            <php><![CDATA[ return $this->_oParent->getFieldContent("movie_title"); ]]></php>
			        </userobj>
				</value>
  			</data>
		</renderlet:HIDDEN>

		<renderlet:TEXT name="time-ro" label="Vorstellung">
			<readonly>true</readonly>
			<data>
				<defaultvalue>
					<userobj>
						<php>
							<![CDATA[
return strftime("%A, %d.%m.%y - %H:%M Uhr", $this->_oParent->piVars['res']);

 ]]>
						</php>
					</userobj>
				</defaultvalue>
			</data>
		</renderlet:TEXT>

		<renderlet:HIDDEN name="movie_time">
			<data>
				<value>
					<userobj>
		            <php><![CDATA[
		            return $this->_oParent->piVars['res'];
		             ]]></php>
			        </userobj>
				</value>
  			</data>
		</renderlet:HIDDEN>


		<renderlet:TEXT name="name" label="Ihr Name">
			<validators>
				<validator:STANDARD>
					<required message="Bitte geben Sie Ihren Namen an." />
				</validator:STANDARD>
			</validators>
		</renderlet:TEXT>

		<renderlet:TEXT name="email" label="E-Mail Adresse">
			<validators>
				<validator:STANDARD>
					<email message="Dies ist keine gülige E-Mail Adresse." />
					<required message="Bitte geben Sie Ihre E-mail Adresse an." />
				</validator:STANDARD>
			</validators>
		</renderlet:TEXT>

		<renderlet:LISTBOX name="seats" label="Anzahl Plätze">

			<validator:STANDARD>
			</validator:STANDARD>

			<data>
				<defaultvalue>2</defaultvalue>
				<items>
					<item caption="-" value="" />
					<item caption=" 1" value="1" />
					<item caption=" 2" value="2" />
					<item caption=" 3" value="3" />
					<item caption=" 4" value="4" />
					<item caption=" 5" value="5" />
					<item caption=" 6" value="6" />
					<item caption=" 7" value="7" />
					<item caption=" 8" value="8" />
					<item caption=" 9" value="9" />
					<item caption="10" value="10" />
					<item caption="11" value="11" />
					<item caption="12" value="12" />
					<item caption="13" value="13" />
					<item caption="14" value="14" />
					<item caption="15" value="15" />
					<item caption="16" value="16" />
					<item caption="17" value="17" />
					<item caption="18" value="18" />
					<item caption="19" value="19" />
					<item caption="20" value="20" />
				</items>
			</data>
		</renderlet:LISTBOX>

		<renderlet:TEXTAREA name="note" label="Anmerkung">
			<validators>
				<validator:STANDARD>
				</validator:STANDARD>
			</validators>
		</renderlet:TEXTAREA>

		<renderlet:HIDDEN name="cinema">
			<data>
				<value>
					<userobj>
		            <php><![CDATA[ return $this->_oParent->piVars['cinema']; ]]></php>
			        </userobj>
				</value>
  			</data>
		</renderlet:HIDDEN>

		<!-- Reload verhindern -->
		<renderlet:HIDDEN name="formid">
			<data>
				<value>
					<userobj>
		            <php><![CDATA[return mktime(); ]]></php>
			        </userobj>
				</value>
  			</data>
		</renderlet:HIDDEN>

		<renderlet:SUBMIT label="Reservierug abschicken!" />

</elements>

</formidable>